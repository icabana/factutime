<?phpclass CreditosModel extends ModelBase {      function getTodosCreditos() {     $query = "select   fac_creditos.ID_CREDITO,                         fac_creditos.CLIENTE_CREDITO,                        fac_creditos.VENDEDOR_CREDITO,                        fac_creditos.CONSECUTIVO_CREDITO,                        fac_creditos.FECHA_CREDITO,                        fac_creditos.VALOR_CREDITO,                        fac_creditos.CONCEPTO_CREDITO,                        fac_creditos.OBSERVACIONES_CREDITO,                        tbl_estudiantes.NOMBRES_ESTUDIANTE,                                        tbl_estudiantes.APELLIDOS_ESTUDIANTE,                        tbl_estudiantes.DOCUMENTO_ESTUDIANTE,                        tbl_estudiantes.DIRECCION_ESTUDIANTE,                        tbl_estudiantes.TELEFONO_ESTUDIANTE,                        tbl_estudiantes.CIUDAD_ESTUDIANTE                        from fac_creditos left join tbl_estudiantes ON fac_creditos.CLIENTE_CREDITO = tbl_estudiantes.ID_ESTUDIANTE                          where fac_creditos.CONSECUTIVO_CREDITO != ''" ;                $consulta = $this->consulta($query);               return $consulta;                          }        function getCreditosPorCliente($CLIENTE_CREDITO) {     $query = "select   fac_creditos.ID_CREDITO,                         fac_creditos.CLIENTE_CREDITO,                        fac_creditos.VENDEDOR_CREDITO,                        fac_creditos.CONSECUTIVO_CREDITO,                        fac_creditos.FECHA_CREDITO,                        fac_creditos.VALOR_CREDITO,                        fac_creditos.CONCEPTO_CREDITO,                        fac_creditos.OBSERVACIONES_CREDITO,                        tbl_estudiantes.NOMBRES_ESTUDIANTE,                                        tbl_estudiantes.APELLIDOS_ESTUDIANTE,                        tbl_estudiantes.DOCUMENTO_ESTUDIANTE,                        tbl_estudiantes.DIRECCION_ESTUDIANTE,                        tbl_estudiantes.TELEFONO_ESTUDIANTE,                        tbl_estudiantes.CIUDAD_ESTUDIANTE                        from fac_creditos left join tbl_estudiantes ON fac_creditos.CLIENTE_CREDITO = tbl_estudiantes.ID_ESTUDIANTE                          where fac_creditos.CONSECUTIVO_CREDITO != '' and CLIENTE_CREDITO = '".$CLIENTE_CREDITO."'" ;                $consulta = $this->consulta($query);               return $consulta;                          }      function getDatosCredito($ID_CREDITO) {            $query = "select   fac_creditos.ID_CREDITO,                         fac_creditos.CLIENTE_CREDITO,                        fac_creditos.CONSECUTIVO_CREDITO,                        fac_creditos.FECHA_CREDITO,                        fac_creditos.VALOR_CREDITO,                        fac_creditos.VENDEDOR_CREDITO,                        fac_creditos.CONCEPTO_CREDITO,                        fac_creditos.OBSERVACIONES_CREDITO,                        tbl_estudiantes.ID_ESTUDIANTE,                                        tbl_estudiantes.NOMBRES_ESTUDIANTE,                                        tbl_estudiantes.APELLIDOS_ESTUDIANTE,                        tbl_estudiantes.DOCUMENTO_ESTUDIANTE,                        tbl_estudiantes.DIRECCION_ESTUDIANTE,                        tbl_estudiantes.TELEFONO_ESTUDIANTE,                        tbl_estudiantes.CELULAR_ESTUDIANTE,                        tbl_estudiantes.CIUDAD_ESTUDIANTE,                        tbl_estudiantes.CORREO_ESTUDIANTE                        from fac_creditos left join tbl_estudiantes ON fac_creditos.CLIENTE_CREDITO = tbl_estudiantes.ID_ESTUDIANTE                          where fac_creditos.ID_CREDITO = '".$ID_CREDITO."'";                 $consulta = $this->consulta($query);        return $consulta[0];                }        function insertarCredito($TIPO_CREDITO) {                        $query = "INSERT INTO fac_creditos (FECHA_CREDITO, TIPO_CREDITO)		VALUES('".  date("Y-m-d")."', '".$TIPO_CREDITO."');";               return $this->crear_ultimo_id($query);                   }                function guardarCredito($FECHA_CREDITO, $CLIENTE_CREDITO, $VENDEDOR_CREDITO, $VALOR_CREDITO, $CONCEPTO_CREDITO, $OBSERVACIONES_CREDITO, $CONSECUTIVO_CREDITO) {              $query = "INSERT fac_creditos(FECHA_CREDITO, CLIENTE_CREDITO, VENDEDOR_CREDITO, VALOR_CREDITO, CONCEPTO_CREDITO, OBSERVACIONES_CREDITO, CONSECUTIVO_CREDITO) VALUES('".$FECHA_CREDITO."','".$CLIENTE_CREDITO."', '".utf8_decode($VENDEDOR_CREDITO)."', '".$VALOR_CREDITO."', '".utf8_decode($CONCEPTO_CREDITO)."', '".utf8_decode($OBSERVACIONES_CREDITO)."', '".$CONSECUTIVO_CREDITO."');";       return $this->crear_ultimo_id($query);    }    function editarCredito($ID_CREDITO, $FECHA_CREDITO, $CLIENTE_CREDITO, $VENDEDOR_CREDITO, $VALOR_CREDITO, $CONCEPTO_CREDITO, $OBSERVACIONES_CREDITO) {       $query = "UPDATE fac_creditos  SET FECHA_CREDITO = '".utf8_decode($FECHA_CREDITO)."', CLIENTE_CREDITO = '".$CLIENTE_CREDITO."', VENDEDOR_CREDITO = '".utf8_decode($VENDEDOR_CREDITO)."', VALOR_CREDITO = '".$VALOR_CREDITO."', CONCEPTO_CREDITO = '".utf8_decode($CONCEPTO_CREDITO)."', OBSERVACIONES_CREDITO = '".utf8_decode($OBSERVACIONES_CREDITO)."'        WHERE ID_CREDITO = '" . $ID_CREDITO . "'";       return $this->modificarRegistros($query);    }    function eliminarCredito($ID_CREDITO) {                $query = "DELETE FROM fac_creditos WHERE ID_CREDITO = '". $ID_CREDITO ."'";        $this->modificarRegistros($query);    }        function getConsecutivo() {     $query = "select MAX(fac_creditos.CONSECUTIVO_CREDITO) as mayor                from fac_creditos";         $consulta = $this->consulta($query);        return $consulta[0]['mayor'];                }    }?>